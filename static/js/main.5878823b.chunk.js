(this["webpackJsonpnith-results"]=this["webpackJsonpnith-results"]||[]).push([[0],{27:function(e,t,c){},28:function(e,t,c){},31:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(18),r=c.n(s),i=(c(27),c(4)),l=c(9),o=c(2),u=Object(a.createContext)({}),d=(c(28),c(0));function h(){var e=Object(a.useContext)(u),t=(e.darkMode,e.setDarkMode);return Object(d.jsx)("div",{className:"dark_toggle",onClick:function(){t((function(e){return!e}))},title:"toggle Dark Mode",children:Object(d.jsx)("div",{className:"cover"})})}var j=c(19),b=c(14),m=c.n(b),g=c(20),p=(c(31),c.p+"static/media/search.fd2a70fa.svg");function O(e){var t=e.branch,c=e.setBranch,a=e.batch,n=e.setBatch,s=e.ranking,r=e.setRanking,i=e.searchString,l=e.setSearchString,o=e.cs,u=e.setCs,h=e.downloadCSV;return Object(d.jsxs)("div",{className:"ctrl",children:[Object(d.jsxs)("div",{className:"ser",children:[Object(d.jsx)("img",{src:p,alt:""}),Object(d.jsx)("input",{type:"search",value:i,onChange:function(e){l(e.target.value)},placeholder:"Search by RollNo Name Branch cg:6.9 sg:9:0"})]}),Object(d.jsx)("div",{className:"branch-con",children:Object(d.jsxs)("select",{name:"branch",id:"branch",title:"Branch",value:t,onChange:function(e){c(e.target.value)},children:[Object(d.jsx)("option",{disabled:!0,children:"\ud83d\udcd1 Branch"}),[{name:"FULL_COLLEGE",value:"FULL_COLLEGE"},{name:"FULL_YEAR",value:"FULL_YEAR"},{name:"ARCHITECTURE",value:"ARCHITECTURE"},{name:"CHEMICAL",value:"CHEMICAL"},{name:"CIVIL",value:"CIVIL"},{name:"CSE",value:"CSE"},{name:"CSE_DUAL",value:"CSE_DUAL"},{name:"ECE",value:"ECE"},{name:"ECE_DUAL",value:"ECE_DUAL"},{name:"ELECTRICAL",value:"ELECTRICAL"},{name:"MATERIAL",value:"MATERIAL"},{name:"MECHANICAL",value:"MECHANICAL"}].map((function(e){return Object(d.jsx)("option",{value:e.value,children:e.name},e.value)}))]})}),Object(d.jsx)("div",{className:"batch-con",children:Object(d.jsxs)("select",{name:"batch",id:"batch",title:"Batch",value:a,onChange:function(e){n(e.target.value)},children:[Object(d.jsx)("option",{disabled:!0,children:"\ud83c\udf93 Batch"}),[{name:19,value:19},{name:18,value:18},{name:17,value:17},{name:16,value:16}].map((function(e){return Object(d.jsx)("option",{value:e.value,children:e.name},e.value)}))]})}),Object(d.jsx)("div",{className:"cs",title:"sort: CGPA / SGPA",onClick:function(e){u((function(e){return"c"===e?"s":"c"}))},children:"c"===o?"Cg":"Sg"}),Object(d.jsx)("div",{className:"batch-con ranking-con",children:Object(d.jsxs)("select",{name:"ranking",id:"ranking",title:"Ranking",value:s,onChange:function(e){r(e.target.value)},children:[Object(d.jsx)("option",{disabled:!0,children:"\ud83c\udfc6 Ranking"}),Object(d.jsx)("option",{value:"S",children:"Standard '1224'"}),Object(d.jsx)("option",{value:"D",children:"Dense '1223'"}),Object(d.jsx)("option",{value:"O",children:"Ordinal '1234'"})]})}),Object(d.jsx)("div",{className:"csv",onClick:h,title:"download result csv",children:Object(d.jsx)("span",{children:"\ud83c\udf67"})})]})}var f=c(22);c(33);function v(e){var t=e.hits;return Object(d.jsxs)("div",{className:"footer",children:[Object(d.jsx)(f.a,{href:"https://github.com/RohitKaushal7/nith-results","data-color-scheme":"no-preference: light; light: light; dark: dark;","data-icon":"octicon-star","data-show-count":"true","aria-label":"Star RohitKaushal7/nith-results on GitHub",children:"Star"}),Object(d.jsxs)("span",{id:"me",children:["Made with ",Object(d.jsx)("span",{className:"heart",children:"\u2764"})," by"," ",Object(d.jsx)("a",{href:"https://github.com/RohitKaushal7",children:"Rohit Kaushal"}),"."]}),Object(d.jsxs)("span",{id:"ref",children:["API : ",Object(d.jsx)("a",{href:"https://nithp.herokuapp.com/",children:"nithp.herokuapp.com/"})]}),Object(d.jsx)("span",{id:"count",children:t||"hits"})]})}c(34);var x=c.p+"static/media/snow1.916bf749.png";function N(e){var t=e.lastUpdated;return Object(d.jsxs)("div",{className:"header",children:[Object(d.jsx)("img",{src:x,alt:"",className:"logo"}),Object(d.jsxs)("div",{className:"main-heading",children:[Object(d.jsx)("b",{children:"NITH RESULTS"}),Object(d.jsx)("span",{className:"date",children:t})]})]})}c(35);function k(e){var t=e.value,c=e.indeterminate;return Object(d.jsxs)("div",{className:"progress",children:[c&&Object(d.jsx)("div",{className:"indeterminate"}),t&&Object(d.jsx)("div",{className:"determinate",style:{width:t+"%"}})]})}c(36);c(37);function L(e){var t=e.stud,c=e.cs,a="c"===c?t.cgpi:t.sgpi,n="c"===c?t.sgpi:t.cgpi,s=Number(a)>=9.5&&Number(a)<10?"9.5":parseInt(a);return Object(d.jsx)(l.b,{to:"/r/".concat(t.roll),children:Object(d.jsxs)("div",{className:"card","data-rank":t.Rank,"data-base":s,children:[Object(d.jsxs)("div",{className:"rank",children:["#_",t.Rank]}),Object(d.jsx)("div",{className:"name",children:t.name}),Object(d.jsx)("div",{className:"rollno",children:t.roll}),Object(d.jsx)("div",{className:"cgpa",children:a}),Object(d.jsx)("div",{className:"sgpa",children:n}),Object(d.jsx)("div",{className:"branch",children:t.branch}),Object(d.jsx)("div",{className:"year",children:t.roll.slice(0,2)})]})})}c(43);var C=100;function E(e){var t=e.history,c=t.location.search,n=new URLSearchParams(c),s=n.get("branch")?n.get("branch").toUpperCase():null,r=n.get("batch"),l=["S","D","O"].includes(n.get("r"))?n.get("r"):null,o=n.get("q"),h=["c","s"].includes(n.get("cs"))?n.get("cs"):null,b=Number(n.get("p"))&&Number(n.get("p"))>=0?Number(n.get("p")):null,p=Object(a.useState)(s||"FULL_COLLEGE"),f=Object(i.a)(p,2),x=f[0],E=f[1],S=Object(a.useState)(r||19),y=Object(i.a)(S,2),_=y[0],R=y[1],A=Object(a.useState)(l||"S"),I=Object(i.a)(A,2),U=I[0],w=I[1],D=Object(a.useState)(o||""),F=Object(i.a)(D,2),M=F[0],J=F[1],T=Object(a.useState)(h||"c"),G=Object(i.a)(T,2),B=G[0],H=G[1],P=Object(a.useState)(b||0),Y=Object(i.a)(P,2),K=Y[0],V=Y[1],q=Object(a.useState)(),z=Object(i.a)(q,2),Q=z[0],W=z[1],X=Object(a.useState)(),Z=Object(i.a)(X,2),$=Z[0],ee=Z[1],te=Object(a.useState)(),ce=Object(i.a)(te,2),ae=ce[0],ne=ce[1],se=Object(a.useState)(),re=Object(i.a)(se,2),ie=re[0],le=re[1],oe=Object(a.useState)(),ue=Object(i.a)(oe,2),de=ue[0],he=ue[1],je=Object(a.useState)(),be=Object(i.a)(je,2),me=be[0],ge=be[1],pe=Object(a.useContext)(u);pe.darkMode,pe.setDarkMode;Object(a.useEffect)((function(){window.location.host.includes("localhost")||fetch("https://api.countapi.xyz/hit/rohitkaushal7/nith_results").then((function(e){return e.json()})).then((function(e){he(e.value)}))}),[]),Object(a.useEffect)((function(){console.log("Fetch Data"),Oe(x,_).then((function(e){e=e.sort((function(e,t){return"c"===B?Number(t.cgpi)-Number(e.cgpi):Number(t.sgpi)-Number(e.sgpi)})),W(e)})).catch((function(e){console.error("Failed to Fetch. Err - ",e.message)}))}),[x,_]),Object(a.useEffect)((function(){if(Q){var e=JSON.parse(JSON.stringify(Q));switch(e.sort((function(e,t){return"c"===B?Number(t.cgpi)-Number(e.cgpi):Number(t.sgpi)-Number(e.sgpi)})),U){case"S":e=fe(e);break;case"D":e=ve(e);break;case"O":e=xe(e)}ne(e),ee(e)}}),[U,Q,B]),Object(a.useEffect)((function(){t.replace("/?".concat("FULL_COLLEGE"!==x?"branch=".concat(x,"&batch=").concat(_):"").concat("s"===B?"&cs=".concat(B):"").concat("S"!==U?"&r=".concat(U):"").concat(K?"&p=".concat(K):""))}),[x,_,U,B,K]),Object(a.useEffect)((function(){if(ae){var e=M.toLocaleLowerCase(),t=ae.filter((function(t){var c="".concat(t.roll," ").concat(t.name.toLocaleLowerCase()," ").concat(t.branch.toLowerCase()," cg:").concat(t.cgpi," sg:").concat(t.sgpi);return String(c).includes(e)}));ee(t),ge(M?t.length:null)}}),[M]);var Oe=function(){var e=Object(g.a)(m.a.mark((function e(t,c){var a,n,s,r,i,l,o,u,d,h,j,b,g,p,O,f,v,x,N,k,L;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("FULL_COLLEGE"===t?a="FULL_COLLEGE":"FULL_YEAR"===t?a="FULL_YEAR - ".concat(c):(a="".concat(t," - ").concat(c),n&&(a+="&next_cursor=".concat(n))),le(!0),i=localStorage.getItem("Jan 2021:::"+a),l=!1,i)try{(s=JSON.parse(i)).expires&&(new Date(s.expires).getTime()>(new Date).getTime()?l=!0:(console.log("Cache Expired - ","Jan 2021:::"+a),localStorage.removeItem("Jan 2021:::"+a)))}catch(m){console.log("Parsing Error - ",m.message)}if(!l){e.next=12;break}r=s.data,n=null,console.log("CACHE HIT","Jan 2021:::"+a),le(!1),e.next=72;break;case 12:if("FULL_COLLEGE"!==t){e.next=33;break}console.log("FULL COLLEGE"),u=[],d="";case 16:return console.log("fetching data from "+d),e.next=19,fetch("https://nithp.herokuapp.com/api/result/student?limit=3000&next_cursor=".concat(d));case 19:return o=e.sent,e.next=22,o.json();case 22:h=e.sent,u=u.concat(h.data),d=h.pagination.next_cursor,j=u.length/3e3,le(100*j);case 27:if(""!=d){e.next=16;break}case 28:r=u,s={data:u,pagination:{next_cursor:""},expires:(new Date).getTime()+2592e6},localStorage.setItem("Jan 2021:::"+a,JSON.stringify(s)),e.next=71;break;case 33:if("FULL_YEAR"!==t){e.next=54;break}console.log("FULL_YEAR"),g=[],p="";case 37:return console.log("fetching data from "+p),e.next=40,fetch("https://nithp.herokuapp.com/api/result/student?roll=".concat(c,"%&limit=3000&next_cursor=").concat(p));case 40:return b=e.sent,e.next=43,b.json();case 43:O=e.sent,g=g.concat(O.data),p=O.pagination.next_cursor,f=g.length/3e3,le(100*f);case 48:if(""!=p){e.next=37;break}case 49:r=g,s={data:g,pagination:{next_cursor:""},expires:(new Date).getTime()+2592e6},localStorage.setItem("Jan 2021:::"+a,JSON.stringify(s)),e.next=71;break;case 54:x=[],N="";case 56:return console.log("fetching data from "+N),e.next=59,fetch("https://nithp.herokuapp.com/api/result/student?branch=".concat(t,"&roll=").concat(c,"%&limit=200&next_cursor=").concat(N));case 59:return v=e.sent,e.next=62,v.json();case 62:k=e.sent,x=x.concat(k.data),N=k.pagination.next_cursor,L=x.length/3e3,le(100*L);case 67:if(""!=N){e.next=56;break}case 68:r=x,s={data:x,pagination:{next_cursor:""},expires:(new Date).getTime()+2592e6},localStorage.setItem("Jan 2021:::"+a,JSON.stringify(s));case 71:le(!1);case 72:return e.abrupt("return",r);case 73:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),fe=function(e){var t=1;if(e[0].Rank=1,"c"==B)for(var c=1;c<e.length;++c)e[c-1].cgpi!=e[c].cgpi&&(t=c+1),e[c].Rank=t;else for(var a=1;a<e.length;++a)e[a-1].sgpi!=e[a].sgpi&&(t=a+1),e[a].Rank=t;return e},ve=function(e){var t=1;if(e[0].Rank=1,"c"==B)for(var c=1;c<e.length;++c)e[c-1].cgpi!=e[c].cgpi&&t++,e[c].Rank=t;else for(var a=1;a<e.length;++a)e[a-1].sgpi!=e[a].sgpi&&t++,e[a].Rank=t;return e},xe=function(e){return e.forEach((function(e,t){e.Rank=t+1})),e};return Object(d.jsxs)("div",{children:[Object(d.jsx)(N,{lastUpdated:"Jan 2021"}),Object(d.jsx)(O,{branch:x,setBranch:E,batch:_,setBatch:R,searchString:M,setSearchString:J,ranking:U,setRanking:w,cs:B,setCs:H,downloadCSV:function(){var e="Rollno,Name,Branch,Sgpa,Cgpa\n",t=JSON.parse(JSON.stringify(Q));t.sort((function(e,t){return Number(e.roll)-Number(t.roll)}));var c,a=Object(j.a)(t);try{for(a.s();!(c=a.n()).done;){var n=c.value;e+="".concat(n.roll,",").concat(n.name,",").concat(n.branch,",").concat(n.sgpi,",").concat(n.cgpi,"\n")}}catch(r){a.e(r)}finally{a.f()}var s=document.createElement("a");s.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(e)),s.setAttribute("download","".concat(x,"_").concat(_,".csv")),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)}}),Object(d.jsxs)("div",{className:"query",onClick:function(){return document.execCommand("copy")},onCopy:function(e){e.preventDefault(),e.clipboardData&&e.clipboardData.setData("text/plain","https://nith.netlify.app/?".concat("FULL_COLLEGE"!==x?"branch=".concat(x,"&batch=").concat(_):"").concat("s"===B?"&cs=".concat(B):"").concat("S"!==U?"&r=".concat(U):"").concat(K?"&p=".concat(K):""))},title:"copy link",children:["\ud83d\udc24","?".concat("FULL_COLLEGE"!==x?"branch=".concat(x,"&batch=").concat(_):"").concat("s"===B?"&cs=".concat(B):"").concat("S"!==U?"&r=".concat(U):"").concat(K?"&p=".concat(K):"")]}),Object(d.jsx)("div",{id:"res_cnt",children:me?me+" results...":null}),Object(d.jsxs)("div",{className:"container",children:[ie&&Object(d.jsx)(k,{indeterminate:!0,value:Number.isFinite(ie)?ie:null}),null===$||void 0===$?void 0:$.slice(K*C,Math.min(K*C+C,$.length)).map((function(e){return Object(d.jsx)(L,{stud:e,cs:B},e.roll)}))]}),Math.floor((null===$||void 0===$?void 0:$.length)/C)?Object(d.jsxs)("div",{className:"pagination",children:[Object(d.jsx)("div",{className:"btn",onClick:function(){return V((function(e){return Math.max(0,e-1)}))},children:"Prev"}),Object(d.jsx)("div",{className:"page",children:K+1}),Object(d.jsx)("div",{className:"btn",onClick:function(){return V((function(e){return Math.min(e+1,Math.floor($.length/C))}))},children:"Next"})]}):null,Object(d.jsx)(v,{hits:de})]})}c(44);function S(e){e.history;var t=e.match,c=Object(a.useState)(),n=Object(i.a)(c,2),s=n[0],r=n[1];if(Object(a.useEffect)((function(){fetch("https://nithp.herokuapp.com/api/result/student/".concat(t.params.roll)).then((function(e){return e.json()})).then((function(e){r(e)}))}),[]),!s)return Object(d.jsx)("div",{className:"loading",children:"loading..."});var o=[8,7,6,5,4,3,2,1].map((function(e){return s.result.filter((function(t){return t.sem==e}))})).filter((function(e){return e.length}));return Object(d.jsxs)("div",{className:"fullResult",children:[Object(d.jsxs)("header",{children:[Object(d.jsxs)("div",{className:"stInfo",children:[Object(d.jsxs)("div",{className:"stDesc",children:[Object(d.jsx)("div",{className:"stName",children:s.name}),Object(d.jsxs)("div",{className:"stRoll",children:[s.roll," ",s.branch]})]}),Object(d.jsxs)("div",{className:"stcg",children:[Object(d.jsx)("div",{className:"cp",children:s.cgpi}),Object(d.jsx)("div",{className:"cp_total",children:s.summary[s.summary.length-1].cgpi_total})]}),Object(d.jsxs)("div",{className:"ranks",children:[Object(d.jsxs)("div",{className:"rk",children:[Object(d.jsxs)("span",{className:"rkt",children:["#_ ",s.rank.class.cgpi]})," class"]}),Object(d.jsxs)("div",{className:"rk",children:[Object(d.jsxs)("span",{className:"rkt",children:["#_ ",s.rank.year.cgpi]})," year"]}),Object(d.jsxs)("div",{className:"rk",children:[Object(d.jsxs)("span",{className:"rkt",children:["#_ ",s.rank.college.cgpi]})," college"]})]})]}),Object(d.jsx)("div",{className:"home",children:Object(d.jsx)(l.b,{to:"/",children:Object(d.jsx)(N,{})})})]}),Object(d.jsx)("div",{className:"stSemesters",children:o.map((function(e,t){return Object(d.jsxs)("div",{className:"sem",style:{animationDelay:.1*t+"s"},children:[Object(d.jsxs)("div",{className:"stsg",children:[Object(d.jsxs)("div",{className:"semN",children:["Sem ",e[0].sem]}),Object(d.jsxs)("div",{className:"sg_total",children:[" ","+",s.summary[e[0].sem-1].sgpi_total]}),Object(d.jsx)("div",{className:"sg",children:s.summary[e[0].sem-1].sgpi})]}),Object(d.jsx)("div",{className:"subs",children:e.map((function(e){return Object(d.jsxs)("div",{className:"sub",children:[Object(d.jsx)("div",{className:"code",children:e.subject}),Object(d.jsx)("div",{className:"grade ".concat(e.grade),children:Number(e.sub_gp)/Number(e.sub_point)})]},e.subject)}))})]},t)}))})]})}c(45);var y=function(){var e=Object(a.useState)(JSON.parse(localStorage.getItem("dark"))),t=Object(i.a)(e,2),c=t[0],n=t[1];return Object(a.useEffect)((function(){var e=document.querySelector(".dark_toggle .cover");!0===c?(localStorage.setItem("dark",!0),document.body.classList.add("dark"),e.style.width="1.7em",e.style.height="1.7em",e.style.background="#111"):(localStorage.setItem("dark",!1),document.body.classList.remove("dark"),e.style.width="2.5em",e.style.height="2.5em",e.style.background="#ffd700")}),[c]),Object(d.jsx)(l.a,{children:Object(d.jsxs)(u.Provider,{value:{darkMode:c,setDarkMode:n},children:[Object(d.jsx)(h,{setDarkMode:n,darkMode:c}),Object(d.jsx)(o.a,{exact:!0,path:"/",component:E}),Object(d.jsx)(o.a,{exact:!0,path:"/r/:roll",component:S})]})})},_=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,47)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))};r.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(y,{})}),document.getElementById("root")),_()}},[[46,1,2]]]);
//# sourceMappingURL=main.5878823b.chunk.js.map